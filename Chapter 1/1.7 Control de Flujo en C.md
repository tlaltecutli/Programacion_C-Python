# Control de Flujo en C - Semana 2

## Introducción

El control de flujo es fundamental en la programación, ya que permite que nuestros programas tomen decisiones y ejecuten código de manera repetitiva. En C, disponemos de diversas estructuras para controlar el flujo de ejecución de nuestros programas.

## 1. Estructuras Condicionales

### 1.1 Estructura if

La estructura `if` permite ejecutar código cuando se cumple una condición específica.

**Sintaxis:**
```c
if (condicion) {
    // Código a ejecutar si la condición es verdadera
}
```

**Ejemplo:**
```c
#include <stdio.h>

int main() {
    int edad = 18;
    
    if (edad >= 18) {
        printf("Eres mayor de edad\n");
    }
    
    return 0;
}
```

### 1.2 Estructura if-else

Permite ejecutar diferentes bloques de código según se cumpla o no una condición.

**Sintaxis:**
```c
if (condicion) {
    // Código si la condición es verdadera
} else {
    // Código si la condición es falsa
}
```

**Ejemplo:**
```c
#include <stdio.h>

int main() {
    int numero;
    
    printf("Ingresa un número: ");
    scanf("%d", &numero);
    
    if (numero % 2 == 0) {
        printf("El número %d es par\n", numero);
    } else {
        printf("El número %d es impar\n", numero);
    }
    
    return 0;
}
```

### 1.3 Estructura else if

Permite evaluar múltiples condiciones de manera secuencial.

**Sintaxis:**
```c
if (condicion1) {
    // Código para condicion1
} else if (condicion2) {
    // Código para condicion2
} else if (condicion3) {
    // Código para condicion3
} else {
    // Código por defecto
}
```

**Ejemplo:**
```c
#include <stdio.h>

int main() {
    float calificacion;
    
    printf("Ingresa tu calificación: ");
    scanf("%f", &calificacion);
    
    if (calificacion >= 90) {
        printf("Calificación: A (Excelente)\n");
    } else if (calificacion >= 80) {
        printf("Calificación: B (Bueno)\n");
    } else if (calificacion >= 70) {
        printf("Calificación: C (Regular)\n");
    } else if (calificacion >= 60) {
        printf("Calificación: D (Deficiente)\n");
    } else {
        printf("Calificación: F (Reprobado)\n");
    }
    
    return 0;
}
```

## 2. Operador Ternario

El operador ternario es una forma compacta de escribir una estructura if-else simple.

**Sintaxis:**
```c
variable = (condicion) ? valor_si_verdadero : valor_si_falso;
```

**Ejemplo:**
```c
#include <stdio.h>

int main() {
    int a = 10, b = 20;
    int mayor;
    
    // Usando operador ternario
    mayor = (a > b) ? a : b;
    printf("El mayor entre %d y %d es: %d\n", a, b, mayor);
    
    // Equivalente con if-else
    if (a > b) {
        mayor = a;
    } else {
        mayor = b;
    }
    
    return 0;
}
```

**Ejemplo con strings:**
```c
#include <stdio.h>

int main() {
    int edad = 17;
    
    printf("Estado: %s\n", (edad >= 18) ? "Mayor de edad" : "Menor de edad");
    
    return 0;
}
```

## 3. Estructura switch-case

La estructura `switch-case` es útil cuando necesitamos comparar una variable con múltiples valores constantes.

**Sintaxis:**
```c
switch (expresion) {
    case valor1:
        // Código para valor1
        break;
    case valor2:
        // Código para valor2
        break;
    case valor3:
        // Código para valor3
        break;
    default:
        // Código por defecto
        break;
}
```

**Ejemplo - Calculadora básica:**
```c
#include <stdio.h>

int main() {
    char operador;
    float num1, num2, resultado;
    
    printf("Ingresa dos números: ");
    scanf("%f %f", &num1, &num2);
    
    printf("Ingresa el operador (+, -, *, /): ");
    scanf(" %c", &operador);
    
    switch (operador) {
        case '+':
            resultado = num1 + num2;
            printf("%.2f + %.2f = %.2f\n", num1, num2, resultado);
            break;
        case '-':
            resultado = num1 - num2;
            printf("%.2f - %.2f = %.2f\n", num1, num2, resultado);
            break;
        case '*':
            resultado = num1 * num2;
            printf("%.2f * %.2f = %.2f\n", num1, num2, resultado);
            break;
        case '/':
            if (num2 != 0) {
                resultado = num1 / num2;
                printf("%.2f / %.2f = %.2f\n", num1, num2, resultado);
            } else {
                printf("Error: División por cero\n");
            }
            break;
        default:
            printf("Operador no válido\n");
            break;
    }
    
    return 0;
}
```

**Ejemplo - Días de la semana:**
```c
#include <stdio.h>

int main() {
    int dia;
    
    printf("Ingresa un número del 1 al 7: ");
    scanf("%d", &dia);
    
    switch (dia) {
        case 1:
            printf("Lunes\n");
            break;
        case 2:
            printf("Martes\n");
            break;
        case 3:
            printf("Miércoles\n");
            break;
        case 4:
            printf("Jueves\n");
            break;
        case 5:
            printf("Viernes\n");
            break;
        case 6:
            printf("Sábado\n");
            break;
        case 7:
            printf("Domingo\n");
            break;
        default:
            printf("Número inválido. Debe estar entre 1 y 7.\n");
            break;
    }
    
    return 0;
}
```

## 4. Ejercicios Prácticos con Condiciones

### Ejercicio 1: Clasificación de números
```c
#include <stdio.h>

int main() {
    int numero;
    
    printf("Ingresa un número: ");
    scanf("%d", &numero);
    
    if (numero > 0) {
        printf("El número es positivo\n");
        if (numero % 2 == 0) {
            printf("Y además es par\n");
        } else {
            printf("Y además es impar\n");
        }
    } else if (numero < 0) {
        printf("El número es negativo\n");
    } else {
        printf("El número es cero\n");
    }
    
    return 0;
}
```

### Ejercicio 2: Año bisiesto
```c
#include <stdio.h>

int main() {
    int año;
    
    printf("Ingresa un año: ");
    scanf("%d", &año);
    
    if ((año % 4 == 0 && año % 100 != 0) || (año % 400 == 0)) {
        printf("El año %d es bisiesto\n", año);
    } else {
        printf("El año %d no es bisiesto\n", año);
    }
    
    return 0;
}
```

## 5. Bucles (Loops)

### 5.1 Bucle while

El bucle `while` ejecuta código mientras una condición sea verdadera.

**Sintaxis:**
```c
while (condicion) {
    // Código a repetir
    // Actualización de la condición
}
```

**Ejemplo:**
```c
#include <stdio.h>

int main() {
    int i = 1;
    
    printf("Números del 1 al 10:\n");
    while (i <= 10) {
        printf("%d ", i);
        i++;  // Incrementar i
    }
    printf("\n");
    
    return 0;
}
```

**Ejemplo - Suma de números:**
```c
#include <stdio.h>

int main() {
    int numero, suma = 0;
    
    printf("Ingresa números (0 para terminar):\n");
    scanf("%d", &numero);
    
    while (numero != 0) {
        suma += numero;
        printf("Suma actual: %d\n", suma);
        printf("Ingresa otro número: ");
        scanf("%d", &numero);
    }
    
    printf("Suma total: %d\n", suma);
    
    return 0;
}
```

### 5.2 Bucle do-while

El bucle `do-while` ejecuta el código al menos una vez, luego verifica la condición.

**Sintaxis:**
```c
do {
    // Código a repetir
    // Actualización de la condición
} while (condicion);
```

**Ejemplo:**
```c
#include <stdio.h>

int main() {
    int opcion;
    
    do {
        printf("\n--- MENÚ ---\n");
        printf("1. Opción 1\n");
        printf("2. Opción 2\n");
        printf("3. Opción 3\n");
        printf("0. Salir\n");
        printf("Selecciona una opción: ");
        scanf("%d", &opcion);
        
        switch (opcion) {
            case 1:
                printf("Has seleccionado la opción 1\n");
                break;
            case 2:
                printf("Has seleccionado la opción 2\n");
                break;
            case 3:
                printf("Has seleccionado la opción 3\n");
                break;
            case 0:
                printf("¡Hasta luego!\n");
                break;
            default:
                printf("Opción inválida\n");
                break;
        }
    } while (opcion != 0);
    
    return 0;
}
```

### 5.3 Bucle for

El bucle `for` es ideal cuando conocemos el número de iteraciones.

**Sintaxis:**
```c
for (inicialización; condición; incremento) {
    // Código a repetir
}
```

**Ejemplo:**
```c
#include <stdio.h>

int main() {
    // Imprimir números del 1 al 10
    for (int i = 1; i <= 10; i++) {
        printf("%d ", i);
    }
    printf("\n");
    
    // Tabla de multiplicar
    int numero = 5;
    printf("Tabla de multiplicar del %d:\n", numero);
    for (int i = 1; i <= 10; i++) {
        printf("%d x %d = %d\n", numero, i, numero * i);
    }
    
    return 0;
}
```

**Ejemplo - Factorial:**
```c
#include <stdio.h>

int main() {
    int n, factorial = 1;
    
    printf("Ingresa un número: ");
    scanf("%d", &n);
    
    if (n < 0) {
        printf("El factorial no está definido para números negativos\n");
    } else {
        for (int i = 1; i <= n; i++) {
            factorial *= i;
        }
        printf("El factorial de %d es: %d\n", n, factorial);
    }
    
    return 0;
}
```

## 6. Bucles Anidados

Los bucles anidados son bucles dentro de otros bucles.

**Ejemplo - Tabla de multiplicar completa:**
```c
#include <stdio.h>

int main() {
    printf("Tablas de multiplicar del 1 al 5:\n\n");
    
    for (int tabla = 1; tabla <= 5; tabla++) {
        printf("Tabla del %d:\n", tabla);
        for (int i = 1; i <= 10; i++) {
            printf("%d x %d = %d\n", tabla, i, tabla * i);
        }
        printf("\n");
    }
    
    return 0;
}
```

**Ejemplo - Patrón de asteriscos:**
```c
#include <stdio.h>

int main() {
    int filas = 5;
    
    printf("Triángulo de asteriscos:\n");
    for (int i = 1; i <= filas; i++) {
        for (int j = 1; j <= i; j++) {
            printf("* ");
        }
        printf("\n");
    }
    
    return 0;
}
```

**Ejemplo - Números primos:**
```c
#include <stdio.h>

int main() {
    int limite = 50;
    
    printf("Números primos menores a %d:\n", limite);
    
    for (int num = 2; num < limite; num++) {
        int es_primo = 1;  // Asumir que es primo
        
        for (int i = 2; i * i <= num; i++) {
            if (num % i == 0) {
                es_primo = 0;  // No es primo
                break;
            }
        }
        
        if (es_primo) {
            printf("%d ", num);
        }
    }
    printf("\n");
    
    return 0;
}
```

## 7. Sentencias break y continue

### 7.1 Sentencia break

La sentencia `break` termina inmediatamente el bucle más cercano.

**Ejemplo:**
```c
#include <stdio.h>

int main() {
    printf("Buscando el primer número divisible por 7:\n");
    
    for (int i = 1; i <= 100; i++) {
        if (i % 7 == 0) {
            printf("Encontrado: %d\n", i);
            break;  // Salir del bucle
        }
        printf("Probando: %d\n", i);
    }
    
    return 0;
}
```

### 7.2 Sentencia continue

La sentencia `continue` salta a la siguiente iteración del bucle.

**Ejemplo:**
```c
#include <stdio.h>

int main() {
    printf("Números impares del 1 al 20:\n");
    
    for (int i = 1; i <= 20; i++) {
        if (i % 2 == 0) {
            continue;  // Saltar números pares
        }
        printf("%d ", i);
    }
    printf("\n");
    
    return 0;
}
```

**Ejemplo combinado:**
```c
#include <stdio.h>

int main() {
    int numero;
    int suma_positivos = 0;
    int contador = 0;
    
    printf("Ingresa números (999 para terminar):\n");
    
    while (1) {  // Bucle infinito
        printf("Número: ");
        scanf("%d", &numero);
        
        if (numero == 999) {
            break;  // Terminar el programa
        }
        
        if (numero <= 0) {
            printf("Número inválido, debe ser positivo\n");
            continue;  // Pedir otro número
        }
        
        suma_positivos += numero;
        contador++;
    }
    
    if (contador > 0) {
        printf("Suma de números positivos: %d\n", suma_positivos);
        printf("Promedio: %.2f\n", (float)suma_positivos / contador);
    } else {
        printf("No se ingresaron números válidos\n");
    }
    
    return 0;
}
```

## 8. Ejercicios de Iteración y Control de Flujo

### Ejercicio 1: Adivina el número
```c
#include <stdio.h>
#include <stdlib.h>
#include <time.h>

int main() {
    srand(time(NULL));  // Semilla para números aleatorios
    int numero_secreto = rand() % 100 + 1;  // Número entre 1 y 100
    int intento, intentos = 0;
    
    printf("¡Juego de adivinanza!\n");
    printf("He pensado un número entre 1 y 100\n");
    
    do {
        printf("Ingresa tu intento: ");
        scanf("%d", &intento);
        intentos++;
        
        if (intento < numero_secreto) {
            printf("El número es mayor\n");
        } else if (intento > numero_secreto) {
            printf("El número es menor\n");
        } else {
            printf("¡Correcto! El número era %d\n", numero_secreto);
            printf("Lo adivinaste en %d intentos\n", intentos);
        }
    } while (intento != numero_secreto);
    
    return 0;
}
```

### Ejercicio 2: Secuencia de Fibonacci
```c
#include <stdio.h>

int main() {
    int n, primer = 0, segundo = 1, siguiente;
    
    printf("¿Cuántos términos de Fibonacci quieres ver? ");
    scanf("%d", &n);
    
    if (n >= 1) {
        printf("Secuencia de Fibonacci:\n");
        printf("%d ", primer);
    }
    
    if (n >= 2) {
        printf("%d ", segundo);
    }
    
    for (int i = 3; i <= n; i++) {
        siguiente = primer + segundo;
        printf("%d ", siguiente);
        primer = segundo;
        segundo = siguiente;
    }
    
    printf("\n");
    return 0;
}
```

### Ejercicio 3: Validación de entrada
```c
#include <stdio.h>

int main() {
    int edad;
    char continuar;
    
    do {
        do {
            printf("Ingresa tu edad (1-120): ");
            scanf("%d", &edad);
            
            if (edad < 1 || edad > 120) {
                printf("Edad inválida. Debe estar entre 1 y 120 años.\n");
            }
        } while (edad < 1 || edad > 120);
        
        // Clasificar por edad
        if (edad < 13) {
            printf("Eres un niño\n");
        } else if (edad < 20) {
            printf("Eres un adolescente\n");
        } else if (edad < 60) {
            printf("Eres un adulto\n");
        } else {
            printf("Eres un adulto mayor\n");
        }
        
        printf("¿Quieres ingresar otra edad? (s/n): ");
        scanf(" %c", &continuar);
        
    } while (continuar == 's' || continuar == 'S');
    
    return 0;
}
```

## 9. Mejores Prácticas

### 9.1 Estructuras Condicionales

**✅ Hacer:**
- Usar llaves `{}` incluso para una sola línea de código
- Mantener condiciones simples y legibles
- Usar paréntesis para clarificar precedencia de operadores
- Considerar todos los casos posibles

```c
// Bueno
if (edad >= 18) {
    printf("Mayor de edad\n");
}

// Mejor
if ((edad >= 18) && (edad <= 120)) {
    printf("Mayor de edad válido\n");
}
```

**❌ Evitar:**
- Condiciones muy complejas en una sola línea
- Anidamiento excesivo de if-else
- Comparaciones con constantes del lado izquierdo (aunque previene errores)

### 9.2 Switch-Case

**✅ Hacer:**
- Siempre incluir `break` al final de cada caso
- Incluir un caso `default`
- Agrupar casos relacionados cuando sea apropiado

```c
switch (calificacion) {
    case 'A':
    case 'a':
        printf("Excelente\n");
        break;
    case 'B':
    case 'b':
        printf("Bueno\n");
        break;
    default:
        printf("Calificación no válida\n");
        break;
}
```

### 9.3 Bucles

**✅ Hacer:**
- Inicializar variables de control antes del bucle
- Asegurar que la condición eventualmente se vuelva falsa
- Usar nombres descriptivos para variables de control
- Preferir `for` cuando el número de iteraciones es conocido
- Usar `while` para condiciones más complejas

```c
// Bueno - contador descriptivo
for (int estudiante = 0; estudiante < total_estudiantes; estudiante++) {
    // procesar estudiante
}

// Bueno - condición clara
while (!archivo_terminado && intentos < max_intentos) {
    // procesar archivo
}
```

**❌ Evitar:**
- Bucles infinitos no intencionados
- Modificar la variable de control dentro del bucle for
- Condiciones muy complejas

### 9.4 Break y Continue

**✅ Hacer:**
- Usar `break` para salir temprano de bucles cuando se cumpla una condición
- Usar `continue` para saltar iteraciones específicas
- Documentar el uso de `break` y `continue` con comentarios

```c
// Buscar elemento específico
for (int i = 0; i < tamaño; i++) {
    if (array[i] == elemento_buscado) {
        printf("Elemento encontrado en posición %d\n", i);
        break;  // Salir porque ya encontramos lo que buscábamos
    }
}
```

### 9.5 Recomendaciones Generales

1. **Legibilidad**: El código debe ser fácil de leer y entender
2. **Consistencia**: Mantener un estilo de codificación consistente
3. **Comentarios**: Explicar la lógica compleja con comentarios
4. **Validación**: Siempre validar entrada del usuario
5. **Eficiencia**: Evitar cálculos innecesarios dentro de bucles

```c
// Ejemplo de buenas prácticas combinadas
#include <stdio.h>

int main() {
    int numero, suma = 0, contador = 0;
    float promedio;
    
    printf("Calculadora de promedio (0 para terminar)\n");
    
    do {
        printf("Ingresa un número: ");
        if (scanf("%d", &numero) != 1) {
            printf("Error: Ingresa un número válido\n");
            while (getchar() != '\n');  // Limpiar buffer
            continue;
        }
        
        if (numero != 0) {
            suma += numero;
            contador++;
        }
    } while (numero != 0);
    
    if (contador > 0) {
        promedio = (float)suma / contador;
        printf("Suma: %d, Números ingresados: %d, Promedio: %.2f\n", 
               suma, contador, promedio);
    } else {
        printf("No se ingresaron números válidos\n");
    }
    
    return 0;
}
```

## 10. Resumen

En esta clase hemos cubierto:

- **Estructuras condicionales**: `if`, `else if`, `else` para tomar decisiones
- **Operador ternario**: Forma compacta de expresiones condicionales simples
- **Switch-case**: Ideal para comparar una variable con múltiples valores constantes
- **Bucles**: `while`, `do-while`, `for` para repetir código
- **Bucles anidados**: Bucles dentro de otros bucles para problemas bidimensionales
- **Control de bucles**: `break` y `continue` para control fino de la ejecución
- **Mejores prácticas**: Código limpio, legible y eficiente

El dominio de estas estructuras de control es fundamental para escribir programas más complejos y eficientes en C. La práctica constante con ejercicios variados te ayudará a internalizar estos conceptos y aplicarlos de manera efectiva en tus proyectos.

## 11. Tarea y Ejercicios Adicionales

1. Crear un programa que determine si un número es perfecto (la suma de sus divisores es igual al número)
2. Implementar un conversor de temperaturas con menú usando switch-case
3. Crear un programa que imprima patrones geométricos usando bucles anidados
4. Desarrollar un juego simple de "Piedra, Papel o Tijeras" contra la computadora